---
layout: default
---

{% comment %}
Dynamic category page - automatically works for any category
No need to create individual category files
{% endcomment %}

{% assign category_name = page.url | remove: '/category/' | remove: '/' %}
{% assign posts = site.categories[category_name] | sort: "date" | reverse %}

{% comment %}Try alternative category name formats if no posts found{% endcomment %}
{% if posts.size == 0 %}
  {% assign alt_category = category_name | replace: '-', '_' %}
  {% assign posts = site.categories[alt_category] | sort: "date" | reverse %}
{% endif %}

{% if posts.size == 0 %}
  {% assign alt_category = category_name | replace: '-', ' ' | capitalize %}
  {% assign posts = site.categories[alt_category] | sort: "date" | reverse %}
{% endif %}

{% if posts.size == 0 %}
  {% assign alt_category = category_name | replace: '-', ' ' %}
  {% assign posts = site.categories[alt_category] | sort: "date" | reverse %}
{% endif %}

<div class="category-view">
  <header class="cat-head">
    <nav class="breadcrumb" aria-label="Breadcrumb">
      <a href="{{ '/' | relative_url }}">Home</a>
      <span class="sep" aria-hidden="true">›</span>
      <a href="{{ '/categories' | relative_url }}">Categories</a>
      <span class="sep" aria-hidden="true">›</span>
      <span class="current" aria-current="page">{{ category_name | replace: '-', ' ' | replace: '_', ' ' | capitalize }}</span>
    </nav>

    <h1 class="cat-title">{{ category_name | replace: '-', ' ' | replace: '_', ' ' | capitalize }}</h1>
    <p class="cat-sub">
      {{ posts | size }} post{% if posts and posts.size != 1 %}s{% endif %} in this category
    </p>
  </header>

  {% if posts and posts.size > 0 %}
    <section class="post-grid">
      {% for post in posts %}
        <article class="post-card card" itemscope itemtype="https://schema.org/Article">
          {% if post.cover %}
            <a class="thumb" href="{{ post.url | relative_url }}" aria-label="Open: {{ post.title }}">
              <img src="{{ post.cover | relative_url }}"
                   alt="{{ post.cover_alt | default: post.title }}"
                   loading="lazy" decoding="async">
            </a>
          {% endif %}

          <div class="meta">
            <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">
              {{ post.date | date: "%b %d, %Y" }}
            </time>
          </div>

          <h2 class="title" itemprop="headline">
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </h2>

          {% if post.excerpt or post.description %}
            <p class="excerpt" itemprop="description">
              {{ post.excerpt | default: post.description | strip_html | truncatewords: 28 }}
            </p>
          {% endif %}

          {% if post.tags and post.tags != empty %}
            <ul class="tags">
              {% for tag in post.tags limit:6 %}
                <li><a class="tag-chip" href="{{ '/tags/#' | append: tag | slugify | relative_url }}">{{ tag }}</a></li>
              {% endfor %}
            </ul>
          {% endif %}

          <a class="read-more" href="{{ post.url | relative_url }}">Read more</a>
        </article>
      {% endfor %}
    </section>
  {% else %}
    <div class="empty">
      <h3>No posts in this category yet</h3>
      <p>Check back later for content in {{ category_name | replace: '-', ' ' | replace: '_', ' ' | capitalize }}.</p>
    </div>
  {% endif %}
</div>

<style>
/* category page tweaks — scoped to #content to avoid conflicts */
#content .category-view { padding: 18px 0 6px; }
#content .cat-head { margin: 0 0 18px; }
#content .cat-title { margin: 4px 0 2px; font-size: var(--fs-4); line-height: 1.2; }
#content .cat-sub { color: var(--text-muted); margin: 0; }

#content .breadcrumb { font-size: var(--fs-0); color: var(--text-muted); }
#content .breadcrumb a { color: var(--text-muted); text-decoration: none; }
#content .breadcrumb a:hover { color: var(--text); text-decoration: underline; text-underline-offset: 2px; }
#content .breadcrumb .sep { margin: 0 8px; color: var(--border); }
#content .breadcrumb .current { color: var(--text); font-weight: 600; }

#content .post-grid {
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

#content .post-card { 
  padding: 16px; 
  border-radius: var(--radius); 
  border: 1px solid var(--border); 
  box-shadow: var(--shadow-sm); 
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease; 
}
#content .post-card:hover { 
  transform: translateY(-4px); 
  box-shadow: var(--shadow-md); 
  border-color: color-mix(in srgb, var(--primary) 25%, var(--border)); 
}

#content .post-card .thumb { 
  display: block; 
  margin: -16px -16px 12px; 
  overflow: hidden; 
  border-top-left-radius: var(--radius); 
  border-top-right-radius: var(--radius); 
}
#content .post-card .thumb img { width: 100%; height: auto; display: block; }

#content .post-card .meta { color: var(--text-muted); font-size: var(--fs-0); margin-bottom: 6px; }
#content .post-card .title { margin: 0 0 6px; font-size: var(--fs-2); line-height: 1.25; }
#content .post-card .title a { color: var(--text); text-decoration: none; }
#content .post-card .title a:hover { text-decoration: underline; text-underline-offset: 2px; }

#content .post-card .excerpt { margin: 8px 0 12px; color: var(--text-muted); }

#content .post-card .tags { list-style: none; padding: 0; margin: 0 0 8px; display: flex; flex-wrap: wrap; gap: 8px; }

#content .tag-chip { 
  display: inline-flex; 
  align-items: center; 
  padding: 6px 10px; 
  border-radius: 999px; 
  background: var(--muted-surface); 
  border: 1px solid var(--border); 
  text-decoration: none; 
  color: var(--text-muted); 
  font-size: var(--fs-0); 
}
#content .tag-chip:hover { 
  background: color-mix(in srgb, var(--primary) 12%, var(--muted-surface)); 
  color: var(--text); 
  border-color: var(--primary); 
}

#content .read-more { 
  display: inline-flex; 
  align-items: center; 
  gap: 6px; 
  font-weight: 600; 
  text-decoration: none; 
  color: var(--primary); 
}
#content .read-more:hover { 
  text-decoration: underline; 
  text-underline-offset: 2px; 
}

#content .empty { text-align: center; padding: 72px 12px; color: var(--text-muted); }
#content .empty h3 { margin: 0 0 6px; color: var(--text); }

/* compact on narrow screens */
@media (max-width: 560px) {
  #content .post-grid { gap: 14px; grid-template-columns: 1fr; }
  #content .post-card { padding: 14px; }
}
</style>