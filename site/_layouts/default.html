<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
    
    <!-- SEO Tags -->
    {% seo %}
    
    <!-- CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #fff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: #2c3e50;
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            text-decoration: none;
            color: white;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }
        
        nav a:hover {
            opacity: 0.8;
        }
        
        main {
            min-height: 70vh;
            padding: 2rem 0;
        }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 2rem;
            margin-top: 1rem;
        }
        
        .main-content {
            background: white;
        }
        
        .sidebar {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            height: fit-content;
        }
        
        .ad-placeholder {
            background: #e9ecef;
            border: 2px dashed #6c757d;
            padding: 2rem;
            text-align: center;
            margin: 1rem 0;
            border-radius: 4px;
            color: #6c757d;
        }
        
        footer {
            background: #34495e;
            color: white;
            padding: 2rem 0;
            margin-top: 2rem;
        }
        
        .footer-content {
            text-align: center;
        }
        
        .footer-links {
            margin: 1rem 0;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            margin: 0 1rem;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .content {
                grid-template-columns: 1fr;
            }
            
            nav ul {
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="{{ '/' | relative_url }}" class="logo">{{ site.title }}</a>
                <nav>
                    <ul>
                        <li><a href="{{ '/' | relative_url }}">홈</a></li>
                        <li><a href="{{ '/pages/about' | relative_url }}">소개</a></li>
                        <li><a href="{{ '/pages/privacy' | relative_url }}">개인정보처리방침</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <!-- Top AdSense Placeholder -->
            <div class="ad-placeholder">
                <!-- adsense-slot-1 -->
                <p>광고 영역 1 (상단 배너)</p>
                <!-- AdSense 승인 후 여기에 광고 코드 삽입 -->
            </div>

            <div class="content">
                <div class="main-content">
                    {{ content }}
                </div>
                
                <aside class="sidebar">
                    <h3>최근 글</h3>
                    <ul>
                        {% for post in site.posts limit:5 %}
                        <li>
                            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                            <small>{{ post.date | date: "%Y-%m-%d" }}</small>
                        </li>
                        {% endfor %}
                    </ul>

                    <!-- Sidebar AdSense Placeholder -->
                    <div class="ad-placeholder" style="margin-top: 2rem;">
                        <!-- adsense-slot-2 -->
                        <p>광고 영역 2 (사이드바)</p>
                        <!-- AdSense 승인 후 여기에 광고 코드 삽입 -->
                    </div>
                </aside>
            </div>

            <!-- Bottom AdSense Placeholder -->
            <div class="ad-placeholder" style="margin-top: 2rem;">
                <!-- adsense-slot-3 -->
                <p>광고 영역 3 (하단 배너)</p>
                <!-- AdSense 승인 후 여기에 광고 코드 삽입 -->
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="{{ '/pages/about' | relative_url }}">소개</a>
                    <a href="{{ '/pages/privacy' | relative_url }}">개인정보처리방침</a>
                </div>
                <p>&copy; {{ site.time | date: "%Y" }} {{ site.title }}. AI로 생성된 콘텐츠입니다.</p>
            </div>
        </div>
    </footer>

    <!-- Google Analytics (placeholder) -->
    {% if site.google_analytics %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{{ site.google_analytics }}');
    </script>
    {% endif %}
</body>
</html>